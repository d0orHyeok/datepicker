"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9],{1009:(t,e,n)=>{n.d(e,{A:()=>Ce});const i=/\[([^\]]+)]|YY[1|2]|YYYY[1|2]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,r=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}/g,s="YYYY-MM-DDTHH:mm:ssZ",o={days:1,months:2,years:3},a=["days","months","years"],c=new Date(100,0,1,0,1,0),l=new Date(9999,11,31,23,59,59),u="snow-datepicker",h=`${u}-container`,d=["clear","today"],p={toggleSelected:!0,shortcuts:!0,position:"bottom-start",view:"days",minView:"days",showOtherMonths:!0,selectOtherMonths:!0,moveOtherMonths:!0,navigationLoop:!0,autoClose:!0,readOnly:!1,animation:!0,inline:!1,backdrop:!1,theme:"light",size:"normal",titleFormat:{}},f={days:"MMMM, [<i>]YYYY[</i>]",months:"YYYY",years:"YYYY1 - YYYY2"},m=["onShow","onHide","onFocus","onBlur","onClickCell","onRenderCell","onBeforeSelect","onSelect","onChangeView","onChangeViewDate"],g={controls:"controls",controlsBtn:"controls__btn",controlsTitle:"controls__title",content:"content",days:"content__days",months:"content__months",years:"content__years",weekday:"content__weekday",cell:"content__cell",calendar:"calendar",inputRoot:"inputRoot",inputBox:"inputBox",label:"inputLabel",input:"input",backdrop:"backdrop",calendarBtn:"calendarBtn",button:"button",buttonWrapper:"buttonWrapper"},y=t=>u+"-"+g[t],v=t=>Object.prototype.toString.call(t).slice(8,-1),w=t=>Array.isArray(t),b=t=>!(!t||"function"==typeof t||"number"!=typeof(null==t?void 0:t.length))&&t.length>-1,D=t=>null===t,S=t=>void 0===t,$=t=>D(t)||S(t),x=t=>"string"==typeof t||"String"===v(t),k=t=>"boolean"==typeof t||"Boolean"===v(t),M=t=>"Date"===v(t)&&!isNaN(t),C=t=>!!t&&!isNaN(new Date(t)),L=t=>"function"==typeof t||"object"==typeof t&&!!t,T=t=>!!t&&"object"==typeof t&&"Object"===v(t),V=t=>"function"==typeof t,E=t=>"number"==typeof t||"Number"===v(t),O=t=>"symbol"==typeof t||"Symbol"===v(t),A=Object.assign,Y=t=>{const e=[];for(const n in t)S(n)||e.push(n);return e};function N(t,...e){return e.forEach((e=>{L(e)&&Y(e).forEach((n=>{t[n]=e[n]}))})),t}const F=new RegExp(String.raw`[^.[\]]+|\[(?:\-\d+|\d+|\".*\"|\'.*\')\]`,"gi");function B(t){if(!w(e=t)&&(E(e)||O(e)||k(e)||/^\w*$/.test(e)))return[t];var e;const n=[];let i=t;for(;"."===i.at(0);)n.push(""),i=i.slice(1);return i.replace(F,(t=>(t.startsWith('["')||t.startsWith("['")?n.push(t.slice(2,-2)):t.startsWith("[")?n.push(t.slice(1,-1)):n.push(t),""))),n}const R=/^(\d+|-\d+)$/,H=(t,e)=>{if(!L(t))return;let n=t;const i=B(e);for(const s of i){if(!L(n))return;n=w(n)&&(r=s,R.test(r)&&Number.isInteger(Number(r)))?n.at(Number(s)):n[s]}var r;return n},I=t=>Object.keys(t),P=t=>I(t).map((e=>[t[e],e]));function _(t,e){if(b(t))for(let n=0;n<t.length;n++)e(t[n],n,t);else if(L(t)){const n=I(t);for(const i of n)e(t[i],i,t)}}function j(...t){const e=[];let n,i;1!==t.length?(n=t[0],i=n+t[1]):(n=0,i=t[0]);for(let r=n;r<i;r++)e.push(r);return e}function W(t,e=document){return e.querySelector(t)}function U(t,e=document){return e.querySelectorAll(t)}function z(t,e,n,i){t.addEventListener(e,n,i)}function K(t,e,n){t.removeEventListener(e,n)}function G(t,e={}){const n=document.createElement(t),{id:i,className:r,classList:s,role:o,style:a,dataset:c,...l}=e;if(i&&(n.id=i),r&&n.classList.add(...r.trim().split(" ")),Array.isArray(s)&&n.classList.add(...s),o&&(n.role=o),a&&"Object"===v(a))for(const u in a){const t=a[u];void 0!==t&&(n.style[u]=t)}if("Object"===v(c))for(const u in c){const t=c[u];void 0!==t&&(n.dataset[u]=`${t}`)}if("Object"===v(l))for(const u in l){const t=l[u];void 0!==t&&(n[u]=t)}return n}function J(t,e,n){return t>=e&&t<=n}class Z{constructor(t,{dp:e,instance:n,options:i,eventManager:r,...s}){this.unsubscribers=[],this.$el=t,this.dp=e,this.instance=n,this.options=i,this.eventManager=r,this.assignProps(s),this.beforeInit(),this.init()}beforeInit(){}init(){this.render(),this.bindEvents(),this.subscribe()}bindEvents(){}render(){}subscribe(){}beforeDestroy(){}assignProps(t){A(this,t)}destroy(){this.beforeDestroy(),this.unsubscribers.forEach((t=>t())),this.$el.remove()}}class q extends Z{render(){let t;if(L(this.buttonOption)){const{id:e,className:n,innerHTML:i,style:r,dataset:s,attrs:o,onClick:a}=this.buttonOption,c=[y("button")];n&&c.push(n),t=G("button",{id:e,classList:c,innerHTML:i,dataset:s,style:r}),o&&_(o,((e,n)=>t.setAttribute(n,e))),a&&(this.onClick=t=>a(t,this.dp))}else this.onClick="clear"===this.buttonOption?()=>this.dp.setSelectedDate(null):()=>this.dp.setSelectedDate(new Date),t=G("button",{className:y("button"),innerHTML:(e=this.buttonOption,e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())});var e;const n=this.$el;this.$el=t,n.replaceWith(t)}bindEvents(){z(this.$el,"click",this.onClick)}}function X(t,e){const n=[`[SnowDatePicker]: ${t}`];throw"string"==typeof e&&n.push(e),new Error(n.join("\n"))}const Q=(t=new Date)=>M(t)?[t.getFullYear(),t.getMonth(),t.getDate()]:[-1,-1,-1],tt=t=>{const e=t.getFullYear(),n=10*Math.floor(e/10);return[n,n+9]};function et(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,s,o,a=[],c=!0,l=!1;try{if(s=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=s.call(n)).done)&&(a.push(i.value),a.length!==e);c=!0);}catch(t){l=!0,r=t}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw r}}return a}}(t,e)||it(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(t){return function(t){if(Array.isArray(t))return rt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||it(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(t,e){if(t){if("string"==typeof t)return rt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rt(t,e):void 0}}function rt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function st(t,e){function n(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}var i=n(t);if(i!==n(e))return!1;if("array"===i){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!st(t[r],e[r]))return!1;return!0}if("object"===i){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&!st(t[s],e[s]))return!1;return!0}return"function"===i?t.toString()===e.toString():t===e}var ot=function(t){return t};function at(t,e){for(var n=et(e,2),i=n[0],r=n[1],s=arguments.length,o=new Array(s>2?s-2:0),a=2;a<s;a++)o[a-2]=arguments[a];var c=o[0],l=o[1],u=ot,h=u(i());"function"==typeof c?(u=c,h=o.length>1?l:u(i())):1===o.length&&(h=c);var d=r?!h:h;return i.subscribe((function(e,n){var i=u(e);st(i,d)||(d=i,t(e,n))}),r)}function ct(){var t=new lt;function e(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.accessor.apply(e,i)}var n=function(n){"function"==typeof t[n]?e[n]=t[n]:Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e}})};for(var i in t)n(i);return e.apply(void 0,arguments),e}function lt(){this.previousValue=null,this.value=null,this.listeners=[]}lt._computeActive=!1,lt._computeChildren=[],lt.prototype.accessor=function(t){var e=this;if(!arguments.length)return lt._computeActive&&-1===lt._computeChildren.indexOf(this)&&lt._computeChildren.push(this),this.value;if(t!==this.value)if("function"!=typeof t)this.previousValue=this.value,this.value=t,this.publish();else{for(var n=[],i=1;i<arguments.length;i++){var r=arguments[i];n.push(r)}this.valueFunction=t,this.valueFunctionArgs=n,lt._computeActive=!0,this.compute(),lt._computeActive=!1,lt._computeChildren.forEach((function(t){t.subscribe((function(){return e.compute()}))})),lt._computeChildren.length=0}},lt.prototype.publish=function(){var t=this;this.listeners.slice().forEach((function(e){e&&e.call(t,t.value,t.previousValue)}))},lt.prototype.subscribe=function(t,e){var n=this;return this.listeners.push(t),e&&t.call(this,this.value,this.previousValue),function(){return lt.prototype.unsubscribe.call(n,t)}},lt.prototype.unsubscribe=function(t){var e=this.listeners.indexOf(t);this.listeners.splice(e,1)},lt.prototype.compute=function(){var t,e=this,n=(t=this.valueFunction).call.apply(t,[this].concat(nt(this.valueFunctionArgs)));void 0!==n&&("function"==typeof n.then?n.then((function(t){return e(t)})):this(n))};const ut={day:3,month:2,year:1};class ht extends Z{isActive(){const{selectedDate:t}=this.instance.store;return!D(t)&&this.dp.isSameDate(this.date,t,this.type+"s")}isFocus(){const{focusDate:t}=this.dp;return!D(t)&&this.dp.isSameDate(this.date,t,this.type+"s")}isToday(){return this.dp.isSameDate(this.date,new Date,this.type+"s")}render(){var t;const{viewDate:e}=this.instance.store,{minDate:n,maxDate:i}=this.options,r=ut[this.type],s=Q(this.date).slice(0,r),[o,a,c]=s,l=e.getMonth(),u=this.isActive(),h=[y("cell"),`--${this.type}`];if(this.isToday()&&h.push("--today"),u&&h.push("--active"),this.isFocus()&&h.push("--focus"),"day"===this.type){const t=a!==l,e=t&&!1===this.options.showOtherMonths,n=t&&!1===this.options.selectOtherMonths;t&&h.push("--other"),e&&h.push("--hidden"),n&&h.push("--disabled")}if("year"===this.type){const[t,n]=tt(e);J(o,t,n)||h.push("--other")}const d=Number;!J(d(this.date),d(n),d(i))&&h.push("--disabled");const p=G("button",{classList:h,role:"gridcell",tabIndex:u?0:-1,dataset:{year:o,monthindex:a,day:c},innerHTML:`${s[r-1]+("month"===this.type?1:0)}`});"day"===this.type&&0===this.date.getDay()&&p.classList.add("--dayoff");const f={date:this.date,type:this.type,$element:p},m=[];(null!=(t=this.eventManager.trigger("renderCell",f))?t:[]).forEach((t=>{T(t)&&m.push(t)})),m.forEach((({className:t,innerHTML:e,dataset:n,attrs:i})=>{x(t)&&t&&p.classList.add(t),x(e)&&e&&(p.innerHTML=e),T(n)&&P(n).forEach((([t,e])=>p.dataset[e]=`${t}`)),T(i)&&P(i).forEach((([t,e])=>p.setAttribute(e,`${t}`)))}));const g=this.$el;this.$el=p,g.replaceWith(this.$el),this.$el.dpCell=this}bindEvents(){z(this.$el,"click",(()=>this.handleSelectCell())),z(this.$el,"click",(t=>this.handleClickCell(t))),z(this.$el,"mouseenter",(()=>this.handleMouseEnter()))}handleMouseEnter(){this.instance.store.state.focusDate(this.date)}handleSelectCell(){const{currentView:t}=this.instance.store,e="year"===this.type?"months":"days";t!==e&&this.dp.setCurrentView(e);const n=this.date;if(this.type+"s"===this.options.minView){const t=this.isActive()&&this.options.toggleSelected;this.dp.setSelectedDate(t?null:n),this.options.autoClose&&this.dp.hide()}("days"!==t||this.options.moveOtherMonths)&&this.dp.setViewDate(n)}handleClickCell(t){const{type:e,date:n,$el:i}=this,r={event:t,type:e,date:n,$element:i};this.eventManager.trigger("clickCell",r)}}class dt extends Z{constructor(){super(...arguments),this.cells=[]}subscribe(){const{store:t}=this.instance;this.unsubscribers.push(at((t=>{this.$el.className=[y("content"),`--${t}`].join(" ")}),[t.state.currentView,!0]),at((()=>{this.renderCells()}),[t.state.viewState,!0]),at((()=>{U("."+y("cell"),this.$el).forEach((t=>{t.dpCell.isActive()?(t.classList.add("--active"),t.tabIndex=0):(t.classList.remove("--active"),t.tabIndex=-1)}))}),[t.state.date,!0]),at((e=>{const[n,i,r]=Q(e),s=t.currentView;U("."+y("cell"),this.$el).forEach((t=>{t.classList.remove("--focus");const{date:e,type:o}=t.dpCell,a=(t=>{let e=!0;return e=e&&t.getFullYear()===n,"years"===s?e:(e=e&&t.getMonth()===i,"months"===s?e:e&&t.getDate()===r)})(e);if(a){t.focus(),t.classList.add("--focus");const n={$element:t,type:o,date:e};this.eventManager.trigger("focus",n)}}))}),[t.state.focusDate]))}bindEvents(){z(this.$el,"mouseleave",(()=>this.instance.store.state.focusDate(null)))}generateWeekDays(){const{locale:{weekdaysMin:t},weekIndexes:e}=this.instance.converter;return e.map((e=>G("div",{role:"gridcell",className:y("weekday"),dataset:{dayindex:e},innerHTML:t[e]})))}generateDates(){const{store:t,converter:e}=this.instance,{viewDate:n,currentView:i}=t;switch(i){case"days":return((t,e=0)=>{const[n,i]=Q(t),r=new Date(n,i+1,0),s=new Date(n,i,1).getDay(),o=r.getDay(),a=(s+7-e)%7||(28===r.getDate()?7:0);return j(1-a,a+(6-o)+r.getDate()).map((t=>new Date(n,i,t,12)))})(n,e.locale.weekStart);case"months":const t=n.getFullYear();return j(12).map((e=>new Date(t,e,1,12)));case"years":return j(tt(n)[0]-1,12).map((t=>new Date(t,0,1,12)))}}render(){this.$el.role="grid"}renderCells(){const{instance:t,options:e,dp:n,eventManager:i}=this,r=t.store.currentView.slice(0,-1),s=this.generateDates();if(w(this.cells)||(this.cells=[]),this.cells.forEach((t=>t.destroy())),this.$el.innerHTML="","day"===r){const t=this.generateWeekDays();this.$el.replaceChildren(...t)}s.forEach((s=>{const o=G("button");this.$el.appendChild(o),new ht(o,{type:r,date:s,dp:n,instance:t,options:e,eventManager:i})}))}}class pt extends Z{render(){this.$el.role="navigation",this.$prevBtn=G("button",{className:y("controlsBtn"),dataset:{action:"prev"},innerHTML:'<svg viewBox="0 0 24 24" width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg" transform="matrix(-1, 0, 0, 1, 0, 0)"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M9 6L15 12L9 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>'}),this.$nextBtn=G("button",{className:y("controlsBtn"),dataset:{action:"next"},innerHTML:'<svg viewBox="0 0 24 24" width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M9 6L15 12L9 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>'}),this.$title=G("span",{className:y("controlsTitle")}),this.$el.innerHTML="",this.$el.replaceChildren(this.$prevBtn,this.$title,this.$nextBtn)}bindEvents(){const{store:t}=this.instance;z(this.$title,"click",(()=>{const e="days"===t.currentView?"months":"years";t.setCurrentView(e)})),z(this.$prevBtn,"click",(t=>{t.preventDefault(),this.dp.prev(),this.dp.setFocusDate(null)})),z(this.$nextBtn,"click",(t=>{t.preventDefault(),this.dp.next(),this.dp.setFocusDate(null)})),[this.$prevBtn,this.$nextBtn].forEach((t=>{z(t,"keydown",(e=>"Enter"===e.key&&t.click())),z(t,"focus",(()=>this.instance.store.state.focusDate(null)))}))}subscribe(){const{store:t,converter:e}=this.instance,{titleFormat:n,minDate:i,maxDate:r}=this.options,s=Q(i),o=Q(r),a=tt(i),c=tt(r),l={days:(t,e)=>{t<=s[0]&&e-1<s[1]?this.$prevBtn.disabled=!0:t>=o[0]&&e+1>o[1]&&(this.$nextBtn.disabled=!0)},months:t=>{t<=s[0]?this.$prevBtn.disabled=!0:t>=o[0]&&(this.$nextBtn.disabled=!0)},years:t=>{t<=a[0]?this.$prevBtn.disabled=!0:t>=c[1]&&(this.$nextBtn.disabled=!0)}};this.unsubscribers.push(at((t=>{const[i,r,s]=t.split("__"),o=n[i];this.$title.innerHTML=e.format(this.dp.viewDate,o),this.options.navigationLoop||(this.$prevBtn.disabled=!1,this.$nextBtn.disabled=!1,l[i](Number(r),Number(s)))}),[t.state.viewState,!0]))}}const ft=/[^Y|M|D|\d]*/g;class mt extends Z{get inputDate(){var t;const{year:e,month:n,day:i}=this.inputState.valueMap;let r=e;return 2===this.inputState.formatStrMap.year.length&&(r=Number(`${null==(t=(new Date).getFullYear())?void 0:t.toString().slice(0,2)}${null==e?void 0:e.toString().padStart(2,"0")}`)),new Date(r,n-1,i)}beforeDestroy(){this.$el=G("input")}subscribe(){const{store:t,converter:e}=this.instance;this.unsubscribers.push(at((t=>{if(!t)return this.$input.value=e.format(t,this.inputState.format);const[n,i,r]=Q(t),{valueMap:s}=this.inputState;2===this.inputState.formatStrMap.year.length?s.year=Number(n.toString().slice(-2)):s.year=n,s.day=r,s.month=i+1,this.$input.value=e.format(t,this.inputState.format)}),[t.state.date]))}beforeInit(){var t;N(this,{inputState:function(t,e){const n={year:"",month:"",day:"",rest:""},i={year:"",month:"",day:""};let s=[],a=0;const c=t.replace(r,((e,r,o)=>{if(r)return`[${r}]`;const c=e.length,l=t.slice(a,o);a=o+c;const u=t=>e.includes(t),h=u("Y")?"year":u("M")?"month":"day";return i[h]=e,n[h]=l,s.push(h),"".padStart(c," ")}));n.rest=c.slice(a);const l=o[e];return s=s.filter((t=>o[t+"s"]>=l)),{beforeStrMap:n,formatStrMap:i,keyOrders:s,valueMap:{},format:t}}(null!=(t=this.options.dateFormat)?t:this.instance.converter.locale.formats.date,this.options.minView)})}render(){var t,e;this.$el.classList.add(u,y("inputRoot"));const n=G("div",{className:y("inputBox")}),i=G("input",{className:y("input"),type:"text",placeholder:null!=(e=null!=(t=this.options.placeHolder)?t:this.instance.converter.locale.placeholder)?e:"Choose a date",readOnly:this.options.readOnly,value:this.instance.converter.format(null,this.inputState.format)});N(this,{$input:i,$inputBox:n});const r=G("button",{className:y("calendarBtn"),innerHTML:'\n<svg version="1.1" id="mdi-calendar-range" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"\n\t y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">\n<g>\n\t<path d="M179.2,230.4H128v51.2h51.2V230.4 M281.6,230.4h-51.2v51.2h51.2V230.4 M384,230.4h-51.2v51.2H384V230.4 M435.2,51.2h-25.6\n\t\tV0h-51.2v51.2H153.6V0h-51.2v51.2H76.8c-28.42,0-51.2,23.04-51.2,51.2v358.4c0,28.28,22.92,51.2,51.2,51.2h358.4\n\t\tc28.28,0,51.2-22.92,51.2-51.2V102.4C486.4,74.12,463.48,51.2,435.2,51.2 M435.2,460.8H76.8V179.2h358.4V460.8z"/>\n</g>\n</svg>\n'});this.$inputBox.replaceChildren(i,r),this.$el.appendChild(this.$inputBox),N(this.dp,{$input:i})}bindEvents(){z(W("."+y("calendarBtn"),this.dp.$target),"click",(()=>this.handleClickCalendarButton())),z(this.$input,"drop",(t=>{t.dataTransfer.dropEffect="none",t.stopPropagation(),t.preventDefault()})),z(this.$input,"pointerdown",(t=>N(t.currentTarget,{isPointerDown:!0}))),z(this.$input,"blur",(t=>this.handleBlur(t))),z(this.$input,"focus",(t=>this.handleFocus(t))),z(this.$input,"pointerup",(t=>this.handlePointerUp(t))),z(document,"keydown",(t=>{var e;(null==(e=document.activeElement)?void 0:e.isSameNode(this.$input))&&(this.handleKeydown(t),this.handleKeydownInput(t))}),!0),z(this.$input,"paste",(t=>this.handlePaste(t)))}handleClickCalendarButton(){this.dp.isShow()?this.dp.hide():this.dp.show()}formatTargetValue(t){const{valueMap:e,formatStrMap:n}=this.inputState,i=e[t],r=n[t];if(!i)return r;if("month"!==t)return String(i).padStart(r.length,"0");const s=r.length;if(s<=2)return String(i).padStart(s,"0");const{converter:o}=this.instance;return o.localeMonth(i-1,3===s)}getIndexMap(){const{beforeStrMap:t,keyOrders:e}=this.inputState,n={};let i=0;return e.forEach((e=>{const r=t[e].replace(/\[([^\]]+)]/g,((t,e)=>e));i+=r.length;const s=this.formatTargetValue(e).length;n[e]=[i,i+=s]})),n}convertInputStateValue(){const{keyOrders:t,beforeStrMap:e}=this.inputState;return t.reduce(((t,n)=>t+e[n]+this.formatTargetValue(n)),"")+e.rest}findNearSelectionTarget(t){const e=this.getIndexMap();let n=1/0,i="";return _(e,(([e,r],s)=>{const o=Math.min(Math.abs(t-e),Math.abs(r-t));i&&o>n||(n=o,i=s)})),{target:i,indexMap:e}}handleFocus(t){if(t.preventDefault(),this.options.readOnly)return;if(this.$inputBox.classList.add("--active"),H(t.currentTarget,"isPointerDown"))return N(t.currentTarget,{isPointerDown:!1});const{target:e,indexMap:n}=this.findNearSelectionTarget(0);this.editState={target:e,indexMap:n,count:0},t.currentTarget.setSelectionRange(...n[e])}handlePointerUp(t){var e;if(t.preventDefault(),this.options.readOnly)return;N(t.currentTarget,{isPointerDown:!1});const n=null!=(e=t.currentTarget.selectionStart)?e:0,{target:i,indexMap:r}=this.findNearSelectionTarget(n);this.editState={target:i,indexMap:r,count:0},t.currentTarget.setSelectionRange(...r[i])}handleKeydownInput(t){if(this.options.readOnly||t.isComposing)return;t.ctrlKey&&"v"===t.key||t.preventDefault();const e=Number(t.key);if(!/\d/g.test(t.key))return t.preventDefault(),t.stopPropagation(),void t.stopImmediatePropagation();const{value:n}=this.$input,{formatStrMap:i,valueMap:r,keyOrders:s}=this.inputState,{indexMap:o,target:a}=this.editState,c=o[a],l="year"!==a?2:i[a].length;if(this.editState.count++,"year"===a)r[a]=1===this.editState.count?e:Number(`${r[a]}${e}`);else if("month"===a)1===this.editState.count?(r[a]=e,e>1&&this.editState.count++):r[a]=e<3?Number(r[a]+`${e}`):e;else if(1===this.editState.count){r[a]=e;e>(r.month&&2!==r.month?3:2)&&this.editState.count++}else{const t=new Date(r.year,r.month,0,12).getDate(),n=Number(r[a]+`${e}`);r[a]=n>t?e:n}const u=n.slice(...c),h=this.formatTargetValue(a);if(0!==u.length-h.length&&(this.editState.indexMap=this.getIndexMap()),this.$input.value=n.slice(0,c[0])+h+n.slice(c[1]),this.editState.count>=l){const t=s.findIndex((t=>t===a))+1,e=s.length-1,n=s[t>e?e:t];this.editState.target=n,this.editState.count=0}this.$input.setSelectionRange(...this.editState.indexMap[this.editState.target])}handlePaste(t){var e,n,i;if(this.options.readOnly)return;if(document.activeElement!==t.currentTarget)return;t.preventDefault();let r=(null!=(n=null==(e=(null==t?void 0:t.clipboardData)||window.clipboardData)?void 0:e.getData("text"))?n:"").trim();const{formatStrMap:s,beforeStrMap:o,keyOrders:a}=this.inputState,c=s.month.length;if(c>2){this.instance.converter.locale[3===c?"monthsShort":"months"].forEach(((t,e)=>r=r.replace(t,`${e+1}`)))}let l=[],u=0;r.replace(ft,((t,e)=>{const n=t.length;return 0===n||(l.push(r.slice(u,e)),l.push(t),u=e+n),""})),l.push(r.slice(u)),l=l.filter((t=>t.length));const h={year:"",month:"",day:""};let d=0;for(const p of a){const t=o[p];if(t.length){if(t!==l[d])return;d++}const e=l[d];if(d++,e===s[p]||isNaN(Number(e)))return;h[p]=e}(null!=(i=l[d])?i:"")!==o.rest||l.at(d+1)||C(`${h.year}-${h.month}-${h.day}`)&&(_(h,((t,e)=>this.inputState.valueMap[e]=t)),t.currentTarget.value=this.convertInputStateValue())}resetDate(){const{converter:t}=this.instance,e=this.dp.selectedDate;this.$input.value=t.format(e,this.inputState.format)}setToInputDate(){const t=this.inputDate;if(!this.options.readOnly){if(!C(t))return this.resetDate();this.dp.setSelectedDate(t),this.dp.setViewDate(t)}}handleBlur(t){this.$inputBox.classList.remove("--active"),H(t.currentTarget,"dpDisableInputBlur")||this.setToInputDate(),N(t.currentTarget,{dpDisableInputBlur:!1})}handleKeydown(t){if(this.options.readOnly)return;const e="Enter"===t.key,n="Escape"===t.key;if(e||n)return t.preventDefault(),N(this.$input,{dpDisableInputBlur:!0}),this.$input.blur(),e?this.setToInputDate():this.resetDate(),!1;if("Tab"===t.key){t.preventDefault();const{keyOrders:e}=this.inputState,{target:n,indexMap:i}=this.editState,r=t.shiftKey?-1:1,s=e.length;let o=e.findIndex((t=>t===n))+r;o<0?o=s+o:o>=s&&(o%=s);const a=e[o];return this.editState.count=0,this.editState.target=a,this.$input.setSelectionRange(...i[a]),!1}}}class gt{constructor({event:t,...e}={}){t&&this.assignData({nativeEvent:t}),this.assignData(e)}assignData(t){A(this,t)}}function yt(t,e){return o[t]>=o[e]}function vt(t,e){X("Invalid options",`options.${t} should be ${e}`)}const wt=A({},function(t,e,n){let i=n;if(b(t)){S(i)&&(i=t[0]);for(let n=0;n<t.length;n++)i=e(i,t[n],n,t)}else if(L(t)){const n=I(t);S(i)&&(i=t[n[0]]);for(const r of n)i=e(i,t[r],r,t)}return i}(p,((t,e,n)=>{const i=typeof e;return t[n]=t=>{typeof t!==i&&vt(n,i)},t}),{}),["minDate","maxDate","selectedDate"].reduce(((t,e)=>(t[e]=t=>{S(t)||M(t)||vt(e,"Date")},t)),{}),["className","placeHolder"].reduce(((t,e)=>(t[e]=t=>{S(t)||x(t)||vt(e,"string")},t)),{}),["view","minView"].reduce(((t,e)=>(t[e]=t=>{S(t)||a.includes(t)||vt(e,a.join(" | "))},t)),{}),m.reduce(((t,e)=>(t[e]=t=>{S(t)||V(t)||vt(e,"function")},t)),{}),{position:t=>{if(!S(t)){if(x(t)){const[e,n,...i]=t.split("-");if(!i.length&&["top","bottom","left","right"].includes(e)&&(S(n)||["start","end"].includes(n)))return}vt("position","Position")}},theme:t=>{(!x(t)||"light"!==t&&"dark"!==t)&&vt("theme","light | dark")},size:t=>{(!x(t)||"small"!==t&&"normal"!==t)&&vt("theme","small | normal")},titleFormat:t=>{if(!S(t))return L(t)?void _(f,((e,n)=>{const i=["string","undefined"];i.includes(typeof t[n])||vt(`titleFormat.${n}`,i.join(" | "))})):vt("titleFormat","{ days?: string; months?: string; years?: string }")},buttons:t=>{if(S(t))return;!(w(t)?t:[t]).every((t=>{if(x(t)&&d.includes(t))return!0;if(T(t)){const{className:e,id:n,dataset:i,attrs:r,innerHTML:s}=t,o=[e,n,s].every((t=>S(t)||x(t))),a=[i,r].every((t=>{return S(t)||(e=t,Object.values(e)).every((t=>x(t)));var e}));return o&&a}return!1}))&&X("buttons",`value must be in ${d.map((t=>"`"+t+"`")).join(" | ")} or button-options object`)}});const bt={days:{ArrowLeft:-1,ArrowRight:1,ArrowDown:7,ArrowUp:-7},months:{ArrowLeft:-1,ArrowRight:1,ArrowDown:3,ArrowUp:-3},years:{ArrowLeft:-1,ArrowRight:1,ArrowDown:4,ArrowUp:-4}},Dt={days:2,months:1,years:0},St=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"];function $t(t){return e=>{const{ctrlKey:n,shiftKey:i,altKey:r,key:s}=e;if("Escape"===s)return e.preventDefault(),t.hide();if("PageUp"===e.key||"PageDown"===e.key){e.preventDefault(),e.stopPropagation();const n="PageUp"===e.key?1:-1,i=a.findIndex((e=>e===t.currentView))+n;return J(i,0,2)&&t.setCurrentView(a[i]),void t.$datepicker.focus()}if(!n&&!i&&!r&&"Enter"===e.key){e.preventDefault();const{focusDate:n,currentView:i}=t;if(!n)return;const[r,s,o]=Q(n);let a=`[data-year="${r}"]`;"years"!==i&&(a+=`[data-monthindex="${s}"]`,"months"!==i&&(a+=`[data-day="${o}"]`));const c=W(`.${y("cell")}${a}`,t.$datepicker);return void(c&&c.click())}if(!(t=>St.includes(t))(s))return;e.preventDefault();const{focusDate:o,viewDate:c,selectedDate:l,currentView:u}=t;let h=o;h||(h=c,h=l&&l.getFullYear()===h.getFullYear()&&l.getMonth()===h.getMonth()?l:"ArrowLeft"===s||"ArrowUp"===s?new Date(h.getFullYear(),h.getMonth()+1,0):new Date(h.getFullYear(),h.getMonth(),1));const d=Q(h),[p,f,m]=d,[g,v]=tt(h),w="ArrowRight"===s||"ArrowDown"===s;if(!(n||i||r)){const e=[...d];e[Dt[u]]+=bt[u][s],"years"===u&&(e[0]<g-1&&(e[0]+=2),e[0]>v+1&&(e[0]-=2));const n=new Date(...e);return("days"===u&&n.getMonth()!==f||"months"===u&&n.getMonth()!==p||"years"===u&&J(p,g,v))&&t.setViewDate(n),void t.setFocusDate(n)}if(!n||i||r)if(n||!i||r){if(!n&&!i&&r){let e=p+(w?10:-10);e<100&&(e=9900+e),e>9999&&(e=100+e-1e4);const n=new Date(e,f,m);t.setFocusDate(n),t.setViewDate(n)}}else{const e=new Date(p+(w?1:-1),f,m);t.setFocusDate(e),t.setViewDate(e)}else{const e=new Date(p,f+(w?1:-1),m);t.setFocusDate(e),t.setViewDate(e)}t.$datepicker.focus()}}const xt={name:"en",weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekStart:1,weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],formats:{time:"HH:mm",date:"DD/MM/YYYY"},placeholder:"Choose date"},kt=t=>{const e=-15*-Math.round(t.getTimezoneOffset()/15),n=Math.abs(e);return`${e<=0?"+":"-"}${Math.floor(n/60).toString().padStart(2,"0")}:${(n%60).toString().padStart(2,"0")}`};function Mt({locale:t=xt,dateFormat:e}={}){const n=t=>t%12||12,r=t=>t<12?"AM":"PM";return{get locale(){return t},get weekIndexes(){const{weekStart:e=0}=t;return j(e,7).map((t=>t%7))},format(t,e=s){if(!C(t))return e.replace(i,((t,e)=>e||t));const o=new Date(t),a=o.getFullYear(),c=o.getMonth(),l=o.getDate(),u=o.getDay(),h=o.getHours(),d=o.getMinutes(),p=o.getSeconds(),f=o.getMilliseconds(),[m,g]=tt(o);return e.replace(i,((t,e)=>{if(e)return e;switch(t){case"YY1":return m.toString().slice(-2);case"YY2":return g.toString().slice(-2);case"YY":return a.toString().slice(-2);case"YYYY1":return m;case"YYYY2":return g;case"YYYY":return a.toString().padStart(4,"0");case"M":return c+1;case"MM":return(c+1).toString().padStart(2,"0");case"MMM":return this.localeMonth(c,!0);case"MMMM":return this.localeMonth(c);case"D":return l;case"DD":return l.toString().padStart(2,"0");case"d":return u;case"dd":return this.localeWeekday(u,"min");case"ddd":return this.localeWeekday(u,"short");case"dddd":return this.localeWeekday(u);case"H":return h;case"HH":return h.toString().padStart(2,"0");case"h":return n(h);case"hh":return n(h).toString().padStart(2,"0");case"a":return r(h).toLowerCase();case"A":return r(h);case"m":return d;case"mm":return d.toString().padStart(2,"0");case"s":return p;case"ss":return p.toString().padStart(2,"0");case"sss":return f.toString().padStart(3,"0");case"Z":return kt(o);case"ZZ":return kt(o).replace(":","");default:return""}}))},time(e){return this.format(e,t.formats.time)},date(n){return this.format(n,null!=e?e:t.formats.date)},localeMonth(e,n){const i=t.months[e];return n?t.monthsShort[e]||i.slice(0,3):i},localeWeekday:(e,n)=>"short"===n?t.weekdaysShort[e]:"min"===n?t.weekdaysMin[e]:t.weekdays[e]}}function Ct({minView:t}){const e=ct(null),n=ct(t||"days"),i=ct(new Date),r=ct(null),s=ct((()=>{const t=i(),e=n();let r=Q(t).slice(0,3-o[e]);return r=r.length?r:tt(t),`${e}__${r.join("__")}`}));return{state:{date:e,currentView:n,viewDate:i,focusDate:r,viewState:s},get currentView(){return n()},get viewDate(){return i()},get selectedDate(){const t=e();return $(t)?null:new Date(t)},setSelectedDate:t=>{e(C(t)?new Date(t):null)},setCurrentView:e=>{let i=x(r=e)&&a.includes(r)?e:t;var r;yt(e,t)||(i=t),n(i)},setViewDate:t=>{if(!C(t))return console.log(`This viewDate is invalid date - ${t}`);i(new Date(t))}}}const Lt=Math.min,Tt=Math.max,Vt=Math.round,Et=Math.floor,Ot=t=>({x:t,y:t}),At={left:"right",right:"left",bottom:"top",top:"bottom"},Yt={start:"end",end:"start"};function Nt(t,e){return"function"==typeof t?t(e):t}function Ft(t){return t.split("-")[0]}function Bt(t){return t.split("-")[1]}function Rt(t){return"y"===t?"height":"width"}function Ht(t){return["top","bottom"].includes(Ft(t))?"y":"x"}function It(t){return"x"===Ht(t)?"y":"x"}function Pt(t){return t.replace(/start|end/g,(t=>Yt[t]))}function _t(t){return t.replace(/left|right|bottom|top/g,(t=>At[t]))}function jt(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Wt(t,e,n){let{reference:i,floating:r}=t;const s=Ht(e),o=It(e),a=Rt(o),c=Ft(e),l="y"===s,u=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,d=i[a]/2-r[a]/2;let p;switch(c){case"top":p={x:u,y:i.y-r.height};break;case"bottom":p={x:u,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:h};break;case"left":p={x:i.x-r.width,y:h};break;default:p={x:i.x,y:i.y}}switch(Bt(e)){case"start":p[o]-=d*(n&&l?-1:1);break;case"end":p[o]+=d*(n&&l?-1:1)}return p}function Ut(t){return Gt(t)?(t.nodeName||"").toLowerCase():"#document"}function zt(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function Kt(t){var e;return null==(e=(Gt(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function Gt(t){return t instanceof Node||t instanceof zt(t).Node}function Jt(t){return t instanceof Element||t instanceof zt(t).Element}function Zt(t){return t instanceof HTMLElement||t instanceof zt(t).HTMLElement}function qt(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof zt(t).ShadowRoot)}function Xt(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=ie(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function Qt(t){return["table","td","th"].includes(Ut(t))}function te(t){const e=ee(),n=ie(t);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((t=>(n.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(n.contain||"").includes(t)))}function ee(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function ne(t){return["html","body","#document"].includes(Ut(t))}function ie(t){return zt(t).getComputedStyle(t)}function re(t){return Jt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function se(t){if("html"===Ut(t))return t;const e=t.assignedSlot||t.parentNode||qt(t)&&t.host||Kt(t);return qt(e)?e.host:e}function oe(t){const e=se(t);return ne(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zt(e)&&Xt(e)?e:oe(e)}function ae(t,e,n){var i;void 0===e&&(e=[]),void 0===n&&(n=!0);const r=oe(t),s=r===(null==(i=t.ownerDocument)?void 0:i.body),o=zt(r);return s?e.concat(o,o.visualViewport||[],Xt(r)?r:[],o.frameElement&&n?ae(o.frameElement):[]):e.concat(r,ae(r,[],n))}function ce(t){const e=ie(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Zt(t),s=r?t.offsetWidth:n,o=r?t.offsetHeight:i,a=Vt(n)!==s||Vt(i)!==o;return a&&(n=s,i=o),{width:n,height:i,$:a}}function le(t){return Jt(t)?t:t.contextElement}function ue(t){const e=le(t);if(!Zt(e))return Ot(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=ce(e);let o=(s?Vt(n.width):n.width)/i,a=(s?Vt(n.height):n.height)/r;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}const he=Ot(0);function de(t){const e=zt(t);return ee()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:he}function pe(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n=!1);const r=t.getBoundingClientRect(),s=le(t);let o=Ot(1);e&&(i?Jt(i)&&(o=ue(i)):o=ue(t));const a=function(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==zt(t))&&e}(s,n,i)?de(s):Ot(0);let c=(r.left+a.x)/o.x,l=(r.top+a.y)/o.y,u=r.width/o.x,h=r.height/o.y;if(s){const t=zt(s),e=i&&Jt(i)?zt(i):i;let n=t,r=n.frameElement;for(;r&&i&&e!==n;){const t=ue(r),e=r.getBoundingClientRect(),i=ie(r),s=e.left+(r.clientLeft+parseFloat(i.paddingLeft))*t.x,o=e.top+(r.clientTop+parseFloat(i.paddingTop))*t.y;c*=t.x,l*=t.y,u*=t.x,h*=t.y,c+=s,l+=o,n=zt(r),r=n.frameElement}}return jt({width:u,height:h,x:c,y:l})}const fe=[":popover-open",":modal"];function me(t){return fe.some((e=>{try{return t.matches(e)}catch(n){return!1}}))}function ge(t){return pe(Kt(t)).left+re(t).scrollLeft}function ye(t,e,n){let i;if("viewport"===e)i=function(t,e){const n=zt(t),i=Kt(t),r=n.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,c=0;if(r){s=r.width,o=r.height;const t=ee();(!t||t&&"fixed"===e)&&(a=r.offsetLeft,c=r.offsetTop)}return{width:s,height:o,x:a,y:c}}(t,n);else if("document"===e)i=function(t){const e=Kt(t),n=re(t),i=t.ownerDocument.body,r=Tt(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Tt(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+ge(t);const a=-n.scrollTop;return"rtl"===ie(i).direction&&(o+=Tt(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}(Kt(t));else if(Jt(e))i=function(t,e){const n=pe(t,!0,"fixed"===e),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=Zt(t)?ue(t):Ot(1);return{width:t.clientWidth*s.x,height:t.clientHeight*s.y,x:r*s.x,y:i*s.y}}(e,n);else{const n=de(t);i={...e,x:e.x-n.x,y:e.y-n.y}}return jt(i)}function ve(t,e){const n=se(t);return!(n===e||!Jt(n)||ne(n))&&("fixed"===ie(n).position||ve(n,e))}function we(t,e,n){const i=Zt(e),r=Kt(e),s="fixed"===n,o=pe(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=Ot(0);if(i||!i&&!s)if(("body"!==Ut(e)||Xt(r))&&(a=re(e)),i){const t=pe(e,!0,s,e);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else r&&(c.x=ge(r));return{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function be(t,e){return Zt(t)&&"fixed"!==ie(t).position?e?e(t):t.offsetParent:null}function De(t,e){const n=zt(t);if(!Zt(t)||me(t))return n;let i=be(t,e);for(;i&&Qt(i)&&"static"===ie(i).position;)i=be(i,e);return i&&("html"===Ut(i)||"body"===Ut(i)&&"static"===ie(i).position&&!te(i))?n:i||function(t){let e=se(t);for(;Zt(e)&&!ne(e);){if(te(e))return e;e=se(e)}return null}(t)||n}const Se={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const s="fixed"===r,o=Kt(i),a=!!e&&me(e.floating);if(i===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},l=Ot(1);const u=Ot(0),h=Zt(i);if((h||!h&&!s)&&(("body"!==Ut(i)||Xt(o))&&(c=re(i)),Zt(i))){const t=pe(i);l=ue(i),u.x=t.x+i.clientLeft,u.y=t.y+i.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x,y:n.y*l.y-c.scrollTop*l.y+u.y}},getDocumentElement:Kt,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const s=[..."clippingAncestors"===n?function(t,e){const n=e.get(t);if(n)return n;let i=ae(t,[],!1).filter((t=>Jt(t)&&"body"!==Ut(t))),r=null;const s="fixed"===ie(t).position;let o=s?se(t):t;for(;Jt(o)&&!ne(o);){const e=ie(o),n=te(o);n||"fixed"!==e.position||(r=null),(s?!n&&!r:!n&&"static"===e.position&&r&&["absolute","fixed"].includes(r.position)||Xt(o)&&!n&&ve(t,o))?i=i.filter((t=>t!==o)):r=e,o=se(o)}return e.set(t,i),i}(e,this._c):[].concat(n),i],o=s[0],a=s.reduce(((t,n)=>{const i=ye(e,n,r);return t.top=Tt(i.top,t.top),t.right=Lt(i.right,t.right),t.bottom=Lt(i.bottom,t.bottom),t.left=Tt(i.left,t.left),t}),ye(e,o,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:De,getElementRects:async function(t){const e=this.getOffsetParent||De,n=this.getDimensions;return{reference:we(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:n}=ce(t);return{width:e,height:n}},getScale:ue,isElement:Jt,isRTL:function(t){return"rtl"===ie(t).direction}};function $e(t,e,n,i){void 0===i&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:c=!1}=i,l=le(t),u=r||s?[...l?ae(l):[],...ae(e)]:[];u.forEach((t=>{r&&t.addEventListener("scroll",n,{passive:!0}),s&&t.addEventListener("resize",n)}));const h=l&&a?function(t,e){let n,i=null;const r=Kt(t);function s(){var t;clearTimeout(n),null==(t=i)||t.disconnect(),i=null}return function o(a,c){void 0===a&&(a=!1),void 0===c&&(c=1),s();const{left:l,top:u,width:h,height:d}=t.getBoundingClientRect();if(a||e(),!h||!d)return;const p={rootMargin:-Et(u)+"px "+-Et(r.clientWidth-(l+h))+"px "+-Et(r.clientHeight-(u+d))+"px "+-Et(l)+"px",threshold:Tt(0,Lt(1,c))||1};let f=!0;function m(t){const e=t[0].intersectionRatio;if(e!==c){if(!f)return o();e?o(!1,e):n=setTimeout((()=>{o(!1,1e-7)}),100)}f=!1}try{i=new IntersectionObserver(m,{...p,root:r.ownerDocument})}catch(g){i=new IntersectionObserver(m,p)}i.observe(t)}(!0),s}(l,n):null;let d,p=-1,f=null;o&&(f=new ResizeObserver((t=>{let[i]=t;i&&i.target===l&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var t;null==(t=f)||t.observe(e)}))),n()})),l&&!c&&f.observe(l),f.observe(e));let m=c?pe(t):null;return c&&function e(){const i=pe(t);!m||i.x===m.x&&i.y===m.y&&i.width===m.width&&i.height===m.height||n();m=i,d=requestAnimationFrame(e)}(),n(),()=>{var t;u.forEach((t=>{r&&t.removeEventListener("scroll",n),s&&t.removeEventListener("resize",n)})),null==h||h(),null==(t=f)||t.disconnect(),f=null,c&&cancelAnimationFrame(d)}}const xe=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:m=!0,...g}=Nt(t,e);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const y=Ft(r),v=Ft(a)===a,w=await(null==c.isRTL?void 0:c.isRTL(l.floating)),b=d||(v||!m?[_t(a)]:function(t){const e=_t(t);return[Pt(t),e,Pt(e)]}(a));d||"none"===f||b.push(...function(t,e,n,i){const r=Bt(t);let s=function(t,e,n){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:i:e?i:r;case"left":case"right":return e?s:o;default:return[]}}(Ft(t),"start"===n,i);return r&&(s=s.map((t=>t+"-"+r)),e&&(s=s.concat(s.map(Pt)))),s}(a,m,f,w));const D=[a,...b],S=await async function(t,e){var n;void 0===e&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:p=0}=Nt(e,t),f=function(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}(p),m=a[d?"floating"===h?"reference":"floating":h],g=jt(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(m)))||n?m:m.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),y="floating"===h?{...o.floating,x:i,y:r}:o.reference,v=await(null==s.getOffsetParent?void 0:s.getOffsetParent(a.floating)),w=await(null==s.isElement?void 0:s.isElement(v))&&await(null==s.getScale?void 0:s.getScale(v))||{x:1,y:1},b=jt(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:v,strategy:c}):y);return{top:(g.top-b.top+f.top)/w.y,bottom:(b.bottom-g.bottom+f.bottom)/w.y,left:(g.left-b.left+f.left)/w.x,right:(b.right-g.right+f.right)/w.x}}(e,g),$=[];let x=(null==(i=s.flip)?void 0:i.overflows)||[];if(u&&$.push(S[y]),h){const t=function(t,e,n){void 0===n&&(n=!1);const i=Bt(t),r=It(t),s=Rt(r);let o="x"===r?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=_t(o)),[o,_t(o)]}(r,o,w);$.push(S[t[0]],S[t[1]])}if(x=[...x,{placement:r,overflows:$}],!$.every((t=>t<=0))){var k,M;const t=((null==(k=s.flip)?void 0:k.index)||0)+1,e=D[t];if(e)return{data:{index:t,overflows:x},reset:{placement:e}};let n=null==(M=x.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:M.placement;if(!n)switch(p){case"bestFit":{var C;const t=null==(C=x.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:C[0];t&&(n=t);break}case"initialPlacement":n=a}if(r!==n)return{reset:{placement:n}}}return{}}}},ke=(t,e,n)=>{const i=new Map,r={platform:Se,...n},s={...r.platform,_c:i};return(async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(null==o.isRTL?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:h}=Wt(l,i,c),d=i,p={},f=0;for(let m=0;m<a.length;m++){const{name:n,fn:s}=a[m],{x:g,y:y,data:v,reset:w}=await s({x:u,y:h,initialPlacement:i,placement:d,strategy:r,middlewareData:p,rects:l,platform:o,elements:{reference:t,floating:e}});u=null!=g?g:u,h=null!=y?y:h,p={...p,[n]:{...p[n],...v}},w&&f<=50&&(f++,"object"==typeof w&&(w.placement&&(d=w.placement),w.rects&&(l=!0===w.rects?await o.getElementRects({reference:t,floating:e,strategy:r}):w.rects),({x:u,y:h}=Wt(l,d,c))),m=-1)}return{x:u,y:h,placement:d,strategy:r,middlewareData:p}})(t,e,{...r,platform:s})},Me=()=>{const t=W("#"+h);if(!D(t))return t;const e=G("div",{id:h,classList:[u,h],role:"presentation",innerHTML:`<div role="presentation" class="${y("backdrop")}"></div>`});return document.body.appendChild(e),e};class Ce{constructor(t,e={}){this.$container=Me(),this.$hide=G("div"),this.components=[],this.unsubscribers=[],this.handleClickOutside=t=>{if(!this.isShow())return void K(document,"click",this.handleClickOutside);const e=t.target,n=W("."+y("calendarBtn"),this.$target);n&&n.contains(e)||this.$datepicker.contains(e)||this.hide()};const n="string"==typeof t?W(t):t;if(!(n instanceof Element))throw X("constructor element shoul be CSS selector or Element");const i=function(t){const e=A({},p,t);void 0===e.titleFormat&&(e.titleFormat={}),T(e.titleFormat)&&_(f,((t,n)=>{const i=e.titleFormat;$(i[n])&&(i[n]=t)})),_(e,((t,e)=>{const n=wt[e];n&&n(t)})),yt(e.view,e.minView)||(e.view=e.minView);const{minDate:n,maxDate:i}=e,r=n?new Date(Math.max(Number(c),Number(new Date(n)))):new Date(c),s=i?new Date(Math.min(Number(new Date(i)),Number(i))):new Date(l);return r.setHours(0),r.setMinutes(0),r.setSeconds(1),s.setHours(23),s.setMinutes(59),s.setSeconds(59),e.minDate=r,e.maxDate=s,e}(e);this.options=i,this.originTemplate=n.outerHTML;const{id:r,className:s}=n,o=G("div",{id:r||void 0,className:s});n.replaceWith(o),this.$target=o,this.$input=G("input");const a=function(t){const{minView:e,locale:n,dateFormat:i}=t;return{converter:Mt({locale:n,dateFormat:i}),store:Ct({minView:e})}}(i),h=function(t,e){const n={},i={on:(t,e)=>{const i=n[t];w(i)?i.push(e):n[t]=[e]},off:(t,e)=>{const i=n[t];if(!w(e))return;const r=i.findIndex((t=>t===e));r>-1&&(n[t]=i.slice(0,r).concat(e.slice(r+1)))},trigger:(e,i)=>{const r=n[e];if(!w(r))return;const s=new gt({...i,datepicker:t});return r.map((t=>t(s)))}};return m.forEach((t=>{var n;const r=H(e,t),s=(null==(n=t.at(2))?void 0:n.toLowerCase())+t.slice(3);V(r)&&i.on(s,r)})),i}(this,i);this.instance=a,this.eventManager=h,this.on=h.on,this.off=h.off;const d=[u,y("calendar")];this.options.className&&d.push(this.options.className),this.$datepicker=G("div",{classList:d}),this.$hide.appendChild(this.$datepicker),this.renderDatepicker(),this.eventSubcribe();const{selectedDate:g,view:v,shortcuts:b}=i,D=g&&C(g)?new Date(g):null;if(D&&(this.setSelectedDate(D),this.setViewDate(D)),v&&this.setCurrentView(v),b){const t=$t(this);z(document,"keydown",(e=>this.isShow()&&t(e)),!0)}i.inline||i.backdrop||this.calendarPositionUpdate(),this.setTheme(i.theme),this.setSize(i.size)}get converter(){return this.instance.converter}get currentView(){return this.instance.store.currentView}get viewDate(){return this.instance.store.viewDate}get selectedDate(){return this.instance.store.selectedDate}get focusDate(){return this.instance.store.state.focusDate()}renderDatepicker(){const{instance:t,options:e,eventManager:n}=this,i={dp:this,instance:t,options:e,eventManager:n},r=G("div",{className:y("controls")}),s=G("div",{className:y("content")});if(this.$datepicker.replaceChildren(r,s),this.$datepicker.tabIndex=-1,this.components.push(new pt(r,i)),this.components.push(new dt(s,i)),this.options.buttons){const t=G("div",{className:y("buttonWrapper")});(w(this.options.buttons)?this.options.buttons:[this.options.buttons]).forEach((e=>{const n=G("button",{className:y("button")});t.appendChild(n),new q(n,{...i,buttonOption:e})})),this.$datepicker.appendChild(t)}this.options.inline?(this.$datepicker.classList.add("--inline"),this.$target.replaceWith(this.$datepicker),N(this,{$target:this.$datepicker})):new mt(this.$target,i),this.options.backdrop&&this.$datepicker.classList.add("--center")}calendarPositionUpdate(){const{$target:t,$datepicker:e}=this,n={top:"50% 100%",bottom:"50% 0",left:"100% 50%",right:"0 50%"};this.unsubscribers.push($e(t,e,(()=>{ke(t,e,{placement:this.options.position,middleware:[xe()]}).then((({x:t,y:i,placement:r})=>{if(!this.options)return;const s=this.options.animation?{transformOrigin:n[r.split("-")[0]]}:{};Object.assign(e.style,{top:`${i}px`,left:`${t}px`,...s})}))})))}eventSubcribe(){const{store:t}=this.instance;this.unsubscribers.push(at(((t,e)=>{this.eventManager.trigger("select",{date:t,prevDate:e})}),[t.state.date]),at(((t,e)=>{this.eventManager.trigger("changeView",{view:t,prevView:e})}),[t.state.currentView]),at(((t,e)=>{this.eventManager.trigger("changeViewDate",{date:t,prevDate:e})}),[t.state.viewDate]))}setSelectedDate(t){const{minDate:e,maxDate:n}=this.options,i=this.selectedDate;let r=C(t)?new Date(t):null;if(r&&(r<e?r=e:r>n&&(r=n),r.setHours(12),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),i&&(i.setHours(12),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),Number(r)===Number(i))return;const s={prevDate:i,date:r},o=this.eventManager.trigger("beforeSelect",s);w(o)&&o.some((t=>!1===t))||this.instance.store.setSelectedDate(r)}setViewDate(t){if(!C(t))return;const{minDate:e,maxDate:n}=this.options;let i=new Date(t);i<e?i=e:i>n&&(i=n),this.instance.store.setViewDate(i)}setCurrentView(t){this.instance.store.setCurrentView(t)}setFocusDate(t){const e=C(t)?new Date(t):null;this.instance.store.state.focusDate(e)}isSameDate(t,e,n="days"){const i=Q(t).slice(0,4-o[n]),r=Q(e);return i.every(((t,e)=>r[e]===t))}addViewDate(t){const e="prev"===t?-1:1,{currentView:n,viewDate:i}=this,r=Q(i).slice(0,2);let[s,o]=r;switch(o+=1,n){case"days":o+=e,0===o?(o=12,s-=1):13===o&&(o=1,s+=1);break;case"months":s+=e;break;case"years":s+=10*e}const a=String(s).padStart(4,"0"),c=String(o).padStart(2,"0"),l=new Date(`${a}-${c}-01`);if(this.options.navigationLoop){const{minDate:t,maxDate:e}=this.options;if(l<t)return this.setViewDate(e);if(e<l)return this.setViewDate(t)}this.setViewDate(l)}next(){this.addViewDate("next")}prev(){this.addViewDate("prev")}hide(){if(!this.options.inline&&this.isShow()){if(this.options.animation){const t=this.options.backdrop?"--fadeOut":"--scaleDown";this.$datepicker.classList.add(t);const e=n=>{n.currentTarget.classList.remove(t),this.$hide.replaceChildren(this.$datepicker),K(this.$datepicker,"animationend",e)};z(this.$datepicker,"animationend",e)}else this.$hide.replaceChildren(this.$datepicker);this.$datepicker.classList.remove("--show"),this.eventManager.trigger("hide",{}),this.$input!==document.activeElement&&W("."+y("inputBox")).classList.remove("--active")}}show(){if(this.options.inline||this.isShow())return;if(this.$container.appendChild(this.$datepicker),this.$datepicker.classList.add("--show"),this.options.animation){const t=this.options.backdrop?"--fadeIn":"--scaleUp";this.$datepicker.classList.add(t);const e=n=>{n.currentTarget.classList.remove(t),this.$datepicker.focus(),K(this.$datepicker,"animationend",e)};z(this.$datepicker,"animationend",e)}else this.$datepicker.focus();W("."+y("inputBox")).classList.add("--active"),z(document,"click",this.handleClickOutside,{capture:!0}),this.eventManager.trigger("show",{})}setTheme(t){const e="dark"===t;("light"===t||e)&&[this.$container,this.$datepicker,this.$target].forEach((t=>t.classList[e?"add":"remove"]("--dark")))}setSize(t){const e="small"===t;("normal"===t||e)&&this.$target.classList[e?"add":"remove"]("--small")}isShow(){return!this.$hide.contains(this.$datepicker)}destroy(){this.unsubscribers.forEach((t=>t())),this.$input.outerHTML=this.originTemplate,this.components.forEach((t=>t.destroy()));["$datepicker","$container","$hide"].forEach((t=>H(this,t).remove())),this.$target.outerHTML=this.originTemplate,Y(this).forEach((t=>H(this,t)&&delete this[t]))}}Ce.containerId=h,Ce.createContainer=Me}}]);